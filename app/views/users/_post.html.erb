<div
  data-controller="toggle"
  class="flex flex-col post-wrapper max-w-xl p-2 mt-6 mx-auto"
>
  <div class="user flex w-full gap-4">
    <div class="avatar">
      <% if post.user.avatar.attached? %>
        <%= image_tag post.user.avatar, class: "h-8 w-8 rounded-full m-0" %>
      <% else %>
        No image found
      <% end %>
    </div>
    <div class="name">
      <p class="font-semibold m-0"><%= link_to post.user.name, user_path(post.user.id), class: "no-underline" %></p>
      <p class="text-gray-500 text-sm m-0"><%= time_ago_in_words(post.created_at) %>
        ago</p>
    </div>
  </div>

  <div class="content">
    <% if post.images.attached? %>
      <% post.images.each do |image| %>
        <%= link_to(
          image_tag(image.representation(:feed).processed.url),
          post_path(post, image: image.id),
          data: {
            turbo_frame: "modal"
          }
        ) %>
      <% end %>
    <% end %>
    <p class="text-gray-800 mb-4"><%= post.body %></p>
  </div>
  <hr class="m-0">

  <div class="comments-wrapper">
    <%= render "shared/comments", user: post.user, post: post %>
  </div>

</div>
